<!doctype html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Primary Meta Tags -->
    <title>Randomizer</title>
    <meta name="title" content="Randomizer">
    <meta name="description" content="Sebuah tools biar gak saling tunjuk untuk maju ke depan kelas, semua dilakukan secara adil!!!">
    <meta name="keywords" content="Random, Acak, Undi, Undian, Ngacak">
    <meta name="author" content="Tri Cahyo Gusmantoro">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://sigendut.cyou">
    <meta property="og:title" content="Randomizer">
    <meta property="og:description" content="Sebuah tools biar gak saling tunjuk untuk maju ke depan kelas, semua dilakukan secara adil!!!">
    <meta property="og:image" content="/images/banner.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="http://sigendut.cyou">
    <meta property="twitter:title" content="Randomizer">
    <meta property="twitter:description" content="Sebuah tools biar gak saling tunjuk untuk maju ke depan kelas, semua dilakukan secara adil!!!">
    <meta property="twitter:image" content="/images/banner.jpg">
    
    <!-- App favicon -->
    <link rel="apple-touch-icon" sizes="76x76" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="theme-color" content="#ffffff">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <title>SiGendut - Randomizer</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }

        main>.container {
            padding: 60px 15px 0;
        }

        .center {
            text-align: center;
        }

        .remove-btn {
            padding: 4px 12px;
        }

        button,
        textarea:focus, 
        textarea.form-control:focus, 
        input.form-control:focus, 
        input[type=text]:focus, 
        input[type=password]:focus, 
        input[type=email]:focus, 
        input[type=number]:focus
        input[type=submit]:focus, 
        [type=text].form-control:focus, 
        [type=password].form-control:focus, 
        [type=email].form-control:focus, 
        [type=tel].form-control:focus, 
        [contenteditable].form-control:focus {
            box-shadow: none !important;
        }
    </style>
</head>

<body class="d-flex flex-column h-100">
    <!-- Fixed navbar -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="{{route('uas')}}">
                <img src="images/logo.svg" width="30" height="30" class="d-inline-block align-top" alt="">
                Randomizer
            </a>
        </div>
    </nav>
    </header>

    <!-- Begin page content -->
    <main class="flex-shrink-0 mb-5">
        <div class="container">
            <h1 class="mt-4 center">Yuk, Kita undi siapa maju duluan <img src="images/emoji/evil-face.svg" width="50"
                    height="50" class="d-inline-block align-middle" alt="Evil Face"></h1>
            <h6 class="center">Biar gak saling tunjuk lagi nih untuk maju ke depan!!</h6>
            <hr>
            <form>
                <label for="data-value" class="form-label">Tambah data</label>
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Masukkan data yang akan diacak"
                        id="data-value" autocomplete="off">
                    <button class="btn btn-success" type="submit" id="add-button">Tambah</button>
                </div>
            </form>

            <!-- Modal -->
            <div class="modal fade" id="emptyModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-body center">
                            <img src="images/emoji/angry-evil-face.svg" width="100" height="100"
                                class="d-inline-block align-middle mt-4" alt="Angry Evil Face">
                            <h6 class="text-danger mt-3 mb-5">Upss.. gaboleh nakal yaa<br />datanya harus diisi!!</h6>
                            <button type="button" class="btn btn-success" data-bs-dismiss="modal">Oke, maaf kak</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="duplicateModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-body center">
                            <img src="images/emoji/angry-evil-face.svg" width="100" height="100"
                                class="d-inline-block align-middle mt-4" alt="Angry Evil Face">
                            <h6 class="text-danger mt-3 mb-5">Upss.. datanya udah ada nih<br />Masukin data yang lain
                                dong!!</h6>
                            <button type="button" class="btn btn-success" data-bs-dismiss="modal">Oke, maaf kak</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="center mt-5" id="empty-data">
                <img src="images/emoji/sad-evil-face.svg" width="150" height="150" class="d-inline-block align-middle"
                    alt="Sad Evil Face">
                <h4>Yahh,, datanya masih kosong </h4>
            </div>

            <div id="data" style="display: none;" class="center">
                <ul class="list-group" id="list-data">
                </ul>
                <button type="button" class="btn btn-success mt-2" id="btn-shuffle">Yuk, Undi!!</button>
            </div>

        </div>
    </main>

    <footer class="footer mt-auto py-3 bg-dark">
        <div class="container">
            <span class="text-muted">&copy; SiGendut 2021</span>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous">
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            var data = [];

            $("form").submit(function () {
                var dataValue = $("#data-value").val().trim();
                if (dataValue == '') {
                    var emptyModal = new bootstrap.Modal(document.getElementById('emptyModal'), {
                        backdrop: 'static',
                        keyboard: false
                    })
                    emptyModal.show()
                } else {
                    if (data.indexOf(dataValue) > -1) {
                        var duplicateModal = new bootstrap.Modal(document.getElementById(
                            'duplicateModal'), {
                            backdrop: 'static',
                            keyboard: false
                        })
                        duplicateModal.show()
                    } else {
                        data.push(dataValue);
                        var listItem = `<li class="list-group-item d-flex justify-content-between align-items-center">
                            ` + dataValue + `
                            <button type="button" class="close btn btn-danger remove-btn" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </li>`;
                        $("#list-data").append(listItem);
                        $("#data-value").val("");
                        checkData();
                    }
                }
                return false;
            });

            function checkData() {
                if ($('#list-data li').length > 0) {
                    $('#empty-data').fadeOut(300, function () {
                        $(this).hide().delay(300);
                        $('#data').fadeIn(300);
                    });
                } else {
                    $('#data').fadeOut(300, function () {
                        $(this).hide().delay(300);
                        $('#empty-data').fadeIn(300);
                    });
                }
            }

            $(document).on('click', '.remove-btn', function () {
                var index = $(this).parent().parent().children().index($(this).parent());
                data.splice(index, 1);

                $(this).closest('li').toggleClass('strike').fadeOut('slow', function () {
                    $(this).remove();
                    checkData();
                });
            });

            $("#btn-shuffle").click(function () {
                var ul = document.querySelector('ul');
                for (var i = ul.children.length; i >= 0; i--) {
                    ul.appendChild(ul.children[Math.random() * i | 0]);
                }
            });

            
        });
    </script>
</body>

</html>